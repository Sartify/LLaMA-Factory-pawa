{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: test_train",
      "type": "python",
      "request": "launch",
      "program": "${workspaceFolder}/pawa/test_train.py",
      "console": "integratedTerminal",
      "cwd": "${workspaceFolder}"
    },
    {
      "name": "TorchRun Training Debug",
      "type": "python",
      "request": "launch",
      "module": "torch.distributed.run",
      "args": [
        "--nnodes",
        "1",
        "--nproc_per_node",
        "1",
        "--standalone",
        "tests/model/test_freeze.py"
      ],
      "console": "integratedTerminal",
      "env": {
        "WORLD_SIZE": "1"
      },
      "cwd": "${workspaceFolder}"
    },
    {
      "name": "Acc Training Debug",
      "type": "python",
      "request": "launch",
      "module": "accelerate.commands.launch",
      "args": [
        "--config_file",
        "pawa/configs/pretrain-eng-swa/acc.yaml",
        "--main_process_port",
        "29502",
        "--num_processes",
        "1",
        "--num_machines",
        "1",
        "src/train.py",
        "pawa/configs/pretrain-eng-swa/pawa_llamafactory-debug.yaml"
      ],
      "console": "integratedTerminal",
      "env": {
        "WANDB_PROJECT": "llamafactory-debug",
        "CUDA_VISIBLE_DEVICES": "0"
      },
      "cwd": "${workspaceFolder}"
    }
  ]
}
